worker_processes 1;

events { worker_connections 1024; }

http {

        include       /etc/nginx/mime.types;
        default_type  application/octet-stream;

        gzip_types text/plain text/xml text/css
                text/comma-separated-values
                text/javascript application/x-javascript
                application/atom+xml;

        server {
                listen 80;
                charset UTF-8;
                server_name localhost;

                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header Host $http_host;
                proxy_set_header X-NginX-Proxy true;

                location ~* .(jpg|jpeg|gif|png|ico|css|zip|rar|pdf)$ {
                        root /var/www/static;
                }

                location / {
                        root /var/www/static;
                }

        }
        server {
                server_name "~^www\.(.*)$";
                return 301 $scheme://$1$request_uri;
        }
}